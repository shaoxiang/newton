
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>newton.ModelBuilder &#8212; Newton Physics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=b2b65678" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=3521d46b"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'generated/core/newton.ModelBuilder';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="newton.Mesh" href="newton.Mesh.html" />
    <link rel="prev" title="newton.Control" href="newton.Control.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">ğŸ Newton Physics <span style='font-size: 0.8em; color: #888;'>(0.1.1.a2)</span></p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/overview.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/quickstart.html">
    Quickstart
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/key-concepts.html">
    Key Concepts
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../conventions.html">
    Conventions
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../concepts/articulations.html">
    Articulations
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../api.html">
    Overview
  </a>
</li>


<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="../../api_core.html">
    Core
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../api_solvers.html">
    Solvers
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../api_importers.html">
    Importers
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../api_renderers.html">
    Renderers
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../faq.html">
    FAQ
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../changelog.html">
    Changelog
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../migration.html">
    Migration Guide
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../development-guide.html">
    Developer Guide
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../integrations/index.html">
    Integrations
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://github.com/newton-physics/newton">
     GitHub
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/overview.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/quickstart.html">
    Quickstart
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/key-concepts.html">
    Key Concepts
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../guide/tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../conventions.html">
    Conventions
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../concepts/articulations.html">
    Articulations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api.html">
    Overview
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../api_core.html">
    Core
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api_solvers.html">
    Solvers
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api_importers.html">
    Importers
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api_renderers.html">
    Renderers
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../faq.html">
    FAQ
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../changelog.html">
    Changelog
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../migration.html">
    Migration Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../development-guide.html">
    Developer Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../integrations/index.html">
    Integrations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/newton-physics/newton">
     GitHub
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/key-concepts.html">Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conventions.html">Conventions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../concepts/articulations.html">Articulations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Overview</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../api_core.html">Core</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="newton.Model.html">newton.Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="newton.State.html">newton.State</a></li>
<li class="toctree-l2"><a class="reference internal" href="newton.Control.html">newton.Control</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">newton.ModelBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="newton.Mesh.html">newton.Mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="newton.SDF.html">newton.SDF</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_solvers.html">Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_importers.html">Importers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_renderers.html">Renderers</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Further Reading</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development-guide.html">Development Guide</a></li>

<li class="toctree-l1"><a class="reference internal" href="../../integrations/index.html">Integrations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Project Links</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://github.com/newton-physics/newton"> GitHub</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../api_core.html" class="nav-link">Core</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">newton.ModelBuilder</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="newton-modelbuilder">
<h1>newton.ModelBuilder<a class="headerlink" href="#newton-modelbuilder" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="newton.ModelBuilder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">newton.</span></span><span class="sig-name descname"><span class="pre">ModelBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">up_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-9.81</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder" title="Link to this definition">#</a></dt>
<dd><p>A helper class for building simulation models at runtime.</p>
<p>Use the ModelBuilder to construct a simulation scene. The ModelBuilder
and builds the scene representation using standard Python data structures (lists),
this means it is not differentiable. Once <a class="reference internal" href="#newton.ModelBuilder.finalize" title="newton.ModelBuilder.finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize()</span></code></a>
has been called the ModelBuilder transfers all data to Warp tensors and returns
an object that may be used for simulation.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">newton</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">newton.solvers</span><span class="w"> </span><span class="kn">import</span> <span class="n">XPBDSolver</span>

<span class="n">builder</span> <span class="o">=</span> <span class="n">newton</span><span class="o">.</span><span class="n">ModelBuilder</span><span class="p">()</span>

<span class="c1"># anchor point (zero mass)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_particle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

<span class="c1"># build chain</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">builder</span><span class="o">.</span><span class="n">add_particle</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">builder</span><span class="o">.</span><span class="n">add_spring</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mf">1.0e3</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># create model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>

<span class="n">state_0</span><span class="p">,</span> <span class="n">state_1</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">state</span><span class="p">(),</span> <span class="n">model</span><span class="o">.</span><span class="n">state</span><span class="p">()</span>
<span class="n">control</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">control</span><span class="p">()</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">XPBDSolver</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">state_0</span><span class="o">.</span><span class="n">clear_forces</span><span class="p">()</span>
    <span class="n">contacts</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">collide</span><span class="p">(</span><span class="n">state_0</span><span class="p">)</span>
    <span class="n">solver</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">state_0</span><span class="p">,</span> <span class="n">state_1</span><span class="p">,</span> <span class="n">control</span><span class="p">,</span> <span class="n">contacts</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="mf">1.0</span> <span class="o">/</span> <span class="mf">60.0</span><span class="p">)</span>
    <span class="n">state_0</span><span class="p">,</span> <span class="n">state_1</span> <span class="o">=</span> <span class="n">state_1</span><span class="p">,</span> <span class="n">state_0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is strongly recommended to use the ModelBuilder to construct a simulation rather
than creating your own Model object directly, however it is possible to do so if
desired.</p>
</div>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.__init__" title="newton.ModelBuilder.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([up_axis,Â gravity])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_body" title="newton.ModelBuilder.add_body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_body</span></code></a>([xform,Â armature,Â com,Â I_m,Â mass,Â key])</p></td>
<td><p>Adds a rigid body to the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_builder" title="newton.ModelBuilder.add_builder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_builder</span></code></a>(builder[,Â xform,Â ...])</p></td>
<td><p>Copies the data from <cite>builder</cite>, another <cite>ModelBuilder</cite> to this <cite>ModelBuilder</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_cloth_grid" title="newton.ModelBuilder.add_cloth_grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_cloth_grid</span></code></a>(pos,Â rot,Â vel,Â dim_x,Â dim_y,Â ...)</p></td>
<td><p>Helper to create a regular planar cloth grid</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_cloth_mesh" title="newton.ModelBuilder.add_cloth_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_cloth_mesh</span></code></a>(pos,Â rot,Â scale,Â vel,Â ...[,Â ...])</p></td>
<td><p>Helper to create a cloth model from a regular triangle mesh</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_edge" title="newton.ModelBuilder.add_edge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_edge</span></code></a>(i,Â j,Â k,Â l[,Â rest,Â edge_ke,Â edge_kd])</p></td>
<td><p>Adds a bending edge element between two adjacent triangles in the cloth mesh, defined by four vertices.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_edges" title="newton.ModelBuilder.add_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_edges</span></code></a>(i,Â j,Â k,Â l[,Â rest,Â edge_ke,Â edge_kd])</p></td>
<td><p>Adds bending edge elements between two adjacent triangles in the cloth mesh, defined by four vertices.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_ground_plane" title="newton.ModelBuilder.add_ground_plane"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_ground_plane</span></code></a>([cfg,Â key])</p></td>
<td><p>Adds a ground plane collision shape to the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_joint" title="newton.ModelBuilder.add_joint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_joint</span></code></a>(joint_type,Â parent,Â child[,Â ...])</p></td>
<td><p>Generic method to add any type of joint to this ModelBuilder.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_joint_ball" title="newton.ModelBuilder.add_joint_ball"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_joint_ball</span></code></a>(parent,Â child[,Â ...])</p></td>
<td><p>Adds a ball (spherical) joint to the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_joint_d6" title="newton.ModelBuilder.add_joint_d6"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_joint_d6</span></code></a>(parent,Â child[,Â linear_axes,Â ...])</p></td>
<td><p>Adds a generic joint with custom linear and angular axes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_joint_distance" title="newton.ModelBuilder.add_joint_distance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_joint_distance</span></code></a>(parent,Â child[,Â ...])</p></td>
<td><p>Adds a distance joint to the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_joint_fixed" title="newton.ModelBuilder.add_joint_fixed"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_joint_fixed</span></code></a>(parent,Â child[,Â ...])</p></td>
<td><p>Adds a fixed (static) joint to the model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_joint_free" title="newton.ModelBuilder.add_joint_free"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_joint_free</span></code></a>(child[,Â parent_xform,Â ...])</p></td>
<td><p>Adds a free joint to the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_joint_prismatic" title="newton.ModelBuilder.add_joint_prismatic"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_joint_prismatic</span></code></a>(parent,Â child[,Â ...])</p></td>
<td><p>Adds a prismatic (sliding) joint to the model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_joint_revolute" title="newton.ModelBuilder.add_joint_revolute"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_joint_revolute</span></code></a>(parent,Â child[,Â ...])</p></td>
<td><p>Adds a revolute (hinge) joint to the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_muscle" title="newton.ModelBuilder.add_muscle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_muscle</span></code></a>(bodies,Â positions,Â f0,Â lm,Â lt,Â ...)</p></td>
<td><p>Adds a muscle-tendon activation unit.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_particle" title="newton.ModelBuilder.add_particle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_particle</span></code></a>(pos,Â vel,Â mass[,Â radius,Â flags])</p></td>
<td><p>Adds a single particle to the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_particles" title="newton.ModelBuilder.add_particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_particles</span></code></a>(pos,Â vel,Â mass[,Â radius,Â flags])</p></td>
<td><p>Adds a group particles to the model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_shape" title="newton.ModelBuilder.add_shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_shape</span></code></a>(body,Â type[,Â xform,Â cfg,Â scale,Â ...])</p></td>
<td><p>Adds a generic collision shape to the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_shape_box" title="newton.ModelBuilder.add_shape_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_shape_box</span></code></a>(body[,Â xform,Â hx,Â hy,Â hz,Â ...])</p></td>
<td><p>Adds a box collision shape to a body.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_shape_capsule" title="newton.ModelBuilder.add_shape_capsule"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_shape_capsule</span></code></a>(body[,Â xform,Â radius,Â ...])</p></td>
<td><p>Adds a capsule collision shape to a body.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_shape_cone" title="newton.ModelBuilder.add_shape_cone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_shape_cone</span></code></a>(body[,Â xform,Â radius,Â ...])</p></td>
<td><p>Adds a cone collision shape to a body.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_shape_cylinder" title="newton.ModelBuilder.add_shape_cylinder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_shape_cylinder</span></code></a>(body[,Â xform,Â radius,Â ...])</p></td>
<td><p>Adds a cylinder collision shape to a body.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_shape_mesh" title="newton.ModelBuilder.add_shape_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_shape_mesh</span></code></a>(body[,Â xform,Â mesh,Â scale,Â ...])</p></td>
<td><p>Adds a triangle mesh collision shape to a body.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_shape_plane" title="newton.ModelBuilder.add_shape_plane"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_shape_plane</span></code></a>([plane,Â xform,Â width,Â ...])</p></td>
<td><p>Adds a plane collision shape to the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_shape_sdf" title="newton.ModelBuilder.add_shape_sdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_shape_sdf</span></code></a>(body[,Â xform,Â sdf,Â cfg,Â key])</p></td>
<td><p>Adds a signed distance field (SDF) collision shape to a body.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_shape_sphere" title="newton.ModelBuilder.add_shape_sphere"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_shape_sphere</span></code></a>(body[,Â xform,Â radius,Â cfg,Â key])</p></td>
<td><p>Adds a sphere collision shape to a body.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_soft_grid" title="newton.ModelBuilder.add_soft_grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_soft_grid</span></code></a>(pos,Â rot,Â vel,Â dim_x,Â dim_y,Â ...)</p></td>
<td><p>Helper to create a rectangular tetrahedral FEM grid</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_soft_mesh" title="newton.ModelBuilder.add_soft_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_soft_mesh</span></code></a>(pos,Â rot,Â scale,Â vel,Â ...[,Â ...])</p></td>
<td><p>Helper to create a tetrahedral model from an input tetrahedral mesh</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_spring" title="newton.ModelBuilder.add_spring"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_spring</span></code></a>(i,Â j,Â ke,Â kd,Â control)</p></td>
<td><p>Adds a spring between two particles in the system</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_tetrahedron" title="newton.ModelBuilder.add_tetrahedron"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_tetrahedron</span></code></a>(i,Â j,Â k,Â l[,Â k_mu,Â ...])</p></td>
<td><p>Adds a tetrahedral FEM element between four particles in the system.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_triangle" title="newton.ModelBuilder.add_triangle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_triangle</span></code></a>(i,Â j,Â k[,Â tri_ke,Â tri_ka,Â ...])</p></td>
<td><p>Adds a triangular FEM element between three particles in the system.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.add_triangles" title="newton.ModelBuilder.add_triangles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_triangles</span></code></a>(i,Â j,Â k[,Â tri_ke,Â tri_ka,Â ...])</p></td>
<td><p>Adds triangular FEM elements between groups of three particles in the system.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.collapse_fixed_joints" title="newton.ModelBuilder.collapse_fixed_joints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collapse_fixed_joints</span></code></a>([verbose])</p></td>
<td><p>Removes fixed joints from the model and merges the bodies they connect.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.color" title="newton.ModelBuilder.color"><code class="xref py py-obj docutils literal notranslate"><span class="pre">color</span></code></a>([include_bending,Â balance_colors,Â ...])</p></td>
<td><p>Runs coloring algorithm to generate coloring information.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.finalize" title="newton.ModelBuilder.finalize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finalize</span></code></a>([device,Â requires_grad])</p></td>
<td><p>Convert this builder object to a concrete model for simulation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#newton.ModelBuilder.plot_articulation" title="newton.ModelBuilder.plot_articulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_articulation</span></code></a>([show_body_keys,Â ...])</p></td>
<td><p>Visualizes the model's articulation graph using matplotlib and networkx.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.set_coloring" title="newton.ModelBuilder.set_coloring"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coloring</span></code></a>(particle_color_groups)</p></td>
<td><p>Sets coloring information with user-provided coloring.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Attributes</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#newton.ModelBuilder.up_vector" title="newton.ModelBuilder.up_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">up_vector</span></code></a></p></td>
<td><p>Computes the 3D up vector from <code class="xref py py-attr docutils literal notranslate"><span class="pre">up_axis</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="field-list simple">
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ShapeConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restitution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_solid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_shape_collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_particle_collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_visible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig" title="Link to this definition">#</a></dt>
<dd><p>Represents the properties of a collision shape used in simulation.</p>
<dl class="field-list simple">
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.density">
<span class="sig-name descname"><span class="pre">density</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.density" title="Link to this definition">#</a></dt>
<dd><p>The density of the shape material.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.ke">
<span class="sig-name descname"><span class="pre">ke</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100000.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.ke" title="Link to this definition">#</a></dt>
<dd><p>The contact elastic stiffness.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.kd">
<span class="sig-name descname"><span class="pre">kd</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.kd" title="Link to this definition">#</a></dt>
<dd><p>The contact damping stiffness.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.kf">
<span class="sig-name descname"><span class="pre">kf</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.kf" title="Link to this definition">#</a></dt>
<dd><p>The contact friction stiffness.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.ka">
<span class="sig-name descname"><span class="pre">ka</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.ka" title="Link to this definition">#</a></dt>
<dd><p>The contact adhesion distance.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.mu">
<span class="sig-name descname"><span class="pre">mu</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.mu" title="Link to this definition">#</a></dt>
<dd><p>The coefficient of friction.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.restitution">
<span class="sig-name descname"><span class="pre">restitution</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.restitution" title="Link to this definition">#</a></dt>
<dd><p>The coefficient of restitution.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.thickness">
<span class="sig-name descname"><span class="pre">thickness</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-05</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.thickness" title="Link to this definition">#</a></dt>
<dd><p>The thickness of the shape.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.is_solid">
<span class="sig-name descname"><span class="pre">is_solid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.is_solid" title="Link to this definition">#</a></dt>
<dd><p>Indicates whether the shape is solid or hollow. Defaults to True.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.collision_group">
<span class="sig-name descname"><span class="pre">collision_group</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.collision_group" title="Link to this definition">#</a></dt>
<dd><p>The collision group ID for the shape. Defaults to -1.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.collision_filter_parent">
<span class="sig-name descname"><span class="pre">collision_filter_parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.collision_filter_parent" title="Link to this definition">#</a></dt>
<dd><p>Whether to inherit collision filtering from the parent. Defaults to True.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.has_shape_collision">
<span class="sig-name descname"><span class="pre">has_shape_collision</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.has_shape_collision" title="Link to this definition">#</a></dt>
<dd><p>Whether the shape can collide with other shapes. Defaults to True.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.has_particle_collision">
<span class="sig-name descname"><span class="pre">has_particle_collision</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.has_particle_collision" title="Link to this definition">#</a></dt>
<dd><p>Whether the shape can collide with particles. Defaults to True.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.is_visible">
<span class="sig-name descname"><span class="pre">is_visible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.is_visible" title="Link to this definition">#</a></dt>
<dd><p>Indicates whether the shape is visible in the simulation. Defaults to True.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.flags">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">flags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.flags" title="Link to this definition">#</a></dt>
<dd><p>Returns the flags for the shape.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.ShapeConfig.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restitution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_solid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_shape_collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_particle_collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_visible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.ShapeConfig.__init__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JointDofConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">JOINT_MODE_TARGET_POSITION</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effort_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig" title="Link to this definition">#</a></dt>
<dd><p>Describes a joint axis (a single degree of freedom) that can have limits and be driven towards a target.</p>
<dl class="field-list simple">
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">JOINT_MODE_TARGET_POSITION</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effort_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.__init__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.axis">
<span class="sig-name descname"><span class="pre">axis</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.axis" title="Link to this definition">#</a></dt>
<dd><p>The 3D axis that this JointDofConfig object describes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.limit_lower">
<span class="sig-name descname"><span class="pre">limit_lower</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.limit_lower" title="Link to this definition">#</a></dt>
<dd><p>The lower position limit of the joint axis. Defaults to -1e6.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.limit_upper">
<span class="sig-name descname"><span class="pre">limit_upper</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.limit_upper" title="Link to this definition">#</a></dt>
<dd><p>The upper position limit of the joint axis. Defaults to 1e6.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.limit_ke">
<span class="sig-name descname"><span class="pre">limit_ke</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.limit_ke" title="Link to this definition">#</a></dt>
<dd><p>The elastic stiffness of the joint axis limits. Defaults to 1e4.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.limit_kd">
<span class="sig-name descname"><span class="pre">limit_kd</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.limit_kd" title="Link to this definition">#</a></dt>
<dd><p>The damping stiffness of the joint axis limits. Defaults to 1e1.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.target_ke">
<span class="sig-name descname"><span class="pre">target_ke</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.target_ke" title="Link to this definition">#</a></dt>
<dd><p>The proportional gain of the target drive PD controller. Defaults to 0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.target_kd">
<span class="sig-name descname"><span class="pre">target_kd</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.target_kd" title="Link to this definition">#</a></dt>
<dd><p>The derivative gain of the target drive PD controller. Defaults to 0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.mode" title="Link to this definition">#</a></dt>
<dd><p>The mode of the joint axis (e.g., <cite>JOINT_MODE_TARGET_POSITION</cite> or <cite>JOINT_MODE_TARGET_VELOCITY</cite>). Defaults to <cite>JOINT_MODE_TARGET_POSITION</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.armature">
<span class="sig-name descname"><span class="pre">armature</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.armature" title="Link to this definition">#</a></dt>
<dd><p>Artificial inertia added around the joint axis. Defaults to 1e-2.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.effort_limit">
<span class="sig-name descname"><span class="pre">effort_limit</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.effort_limit" title="Link to this definition">#</a></dt>
<dd><p>Maximum effort (force or torque) the joint axis can exert. Defaults to 1e6.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.velocity_limit">
<span class="sig-name descname"><span class="pre">velocity_limit</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.velocity_limit" title="Link to this definition">#</a></dt>
<dd><p>Maximum velocity the joint axis can achieve. Defaults to 1e6.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.friction">
<span class="sig-name descname"><span class="pre">friction</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.friction" title="Link to this definition">#</a></dt>
<dd><p>Friction coefficient for the joint axis. Defaults to 0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.target">
<span class="sig-name descname"><span class="pre">target</span></span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.target" title="Link to this definition">#</a></dt>
<dd><p>The target position or velocity (depending on the mode) of the joint axis.
If <cite>mode</cite> is <cite>JOINT_MODE_TARGET_POSITION</cite> and the initial <cite>target</cite> is outside the limits,
it defaults to the midpoint of <cite>limit_lower</cite> and <cite>limit_upper</cite>. Otherwise, defaults to 0.0.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.JointDofConfig.create_unlimited">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_unlimited</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.JointDofConfig.create_unlimited" title="Link to this definition">#</a></dt>
<dd><p>Creates a JointDofConfig with no limits.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">up_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-9.81</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.__init__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="newton.ModelBuilder.up_vector">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">up_vector</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">vec3f</span></em><a class="headerlink" href="#newton.ModelBuilder.up_vector" title="Link to this definition">#</a></dt>
<dd><p>Computes the 3D up vector from <code class="xref py py-attr docutils literal notranslate"><span class="pre">up_axis</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_builder">
<span class="sig-name descname"><span class="pre">add_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_num_env_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separate_collision_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_builder" title="Link to this definition">#</a></dt>
<dd><p>Copies the data from <cite>builder</cite>, another <cite>ModelBuilder</cite> to this <cite>ModelBuilder</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> (<a class="reference internal" href="#newton.ModelBuilder" title="newton.ModelBuilder"><em>ModelBuilder</em></a>) â€“ a model builder to add model data from.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em>) â€“ offset transform applied to root bodies.</p></li>
<li><p><strong>update_num_env_count</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ if True, the number of environments is incremented by 1.</p></li>
<li><p><strong>separate_collision_group</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ if True, the shapes from the articulations in <cite>builder</cite> will all be put into a single new collision group, otherwise, only the shapes in collision group &gt; -1 will be moved to a new group.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_body">
<span class="sig-name descname"><span class="pre">add_body</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">com</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I_m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_body" title="Link to this definition">#</a></dt>
<dd><p>Adds a rigid body to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xform</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>quatf</em><em>] </em><em>| </em><em>transformf</em><em> | </em><em>None</em>) â€“ The location of the body in the world frame.</p></li>
<li><p><strong>armature</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ Artificial inertia added to the body. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_body_armature</span></code> is used.</p></li>
<li><p><strong>com</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em><em> | </em><em>None</em>) â€“ The center of mass of the body w.r.t its origin. If None, the center of mass is assumed to be at the origin.</p></li>
<li><p><strong>I_m</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>mat33f</em><em> | </em><em>None</em>) â€“ The 3x3 inertia tensor of the body (specified relative to the center of mass). If None, the inertia tensor is assumed to be zero.</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ Mass of the body.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ Key of the body (optional).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the body in the model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the mass is zero then the body is treated as kinematic with no dynamics.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint">
<span class="sig-name descname"><span class="pre">add_joint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joint_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linear_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angular_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint" title="Link to this definition">#</a></dt>
<dd><p>Generic method to add any type of joint to this ModelBuilder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>joint_type</strong> (<em>constant</em>) â€“ The type of joint to add (see :ref:â€™joint-typesâ€™).</p></li>
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body (-1 is the world).</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the child body.</p></li>
<li><p><strong>linear_axes</strong> (list(<a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a>)) â€“ The linear axes (see <a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a>) of the joint.</p></li>
<li><p><strong>angular_axes</strong> (list(<a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a>)) â€“ The angular axes (see <a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a>) of the joint.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) â€“ The key of the joint (optional).</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the parent bodyâ€™s local frame. If None, the identity transform is used.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the child bodyâ€™s local frame. If None, the identity transform is used.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether the joint is enabled (not considered by <code class="xref py py-class docutils literal notranslate"><span class="pre">FeatherstoneSolver</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_revolute">
<span class="sig-name descname"><span class="pre">add_joint_revolute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effort_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_revolute" title="Link to this definition">#</a></dt>
<dd><p>Adds a revolute (hinge) joint to the model. It has one degree of freedom.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the parent bodyâ€™s local frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the child bodyâ€™s local frame.</p></li>
<li><p><strong>axis</strong> (<em>AxisType</em><em> | </em><em>Vec3</em><em> | </em><a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><em>JointDofConfig</em></a>) â€“ The axis of rotation in the parent bodyâ€™s local frame, can be a <a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a> object whose settings will be used instead of the other arguments.</p></li>
<li><p><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The target angle (in radians) or target velocity of the joint.</p></li>
<li><p><strong>target_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The stiffness of the joint target.</p></li>
<li><p><strong>target_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The damping of the joint target.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> | </em><em>None</em>) â€“ The control mode of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_control_mode</span></code> is used.</p></li>
<li><p><strong>limit_lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The lower limit of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_lower</span></code> is used.</p></li>
<li><p><strong>limit_upper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The upper limit of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_upper</span></code> is used.</p></li>
<li><p><strong>limit_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The stiffness of the joint limit. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_ke</span></code> is used.</p></li>
<li><p><strong>limit_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The damping of the joint limit. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_kd</span></code> is used.</p></li>
<li><p><strong>armature</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ Artificial inertia added around the joint axis. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_armature</span></code> is used.</p></li>
<li><p><strong>effort_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ Maximum effort (force/torque) the joint axis can exert. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.effort_limit</span></code> is used.</p></li>
<li><p><strong>velocity_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ Maximum velocity the joint axis can achieve. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.velocity_limit</span></code> is used.</p></li>
<li><p><strong>friction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ Friction coefficient for the joint axis. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.friction</span></code> is used.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether the joint is enabled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_prismatic">
<span class="sig-name descname"><span class="pre">add_joint_prismatic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effort_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_prismatic" title="Link to this definition">#</a></dt>
<dd><p>Adds a prismatic (sliding) joint to the model. It has one degree of freedom.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the parent bodyâ€™s local frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the child bodyâ€™s local frame.</p></li>
<li><p><strong>axis</strong> (<em>AxisType</em><em> | </em><em>Vec3</em><em> | </em><a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><em>JointDofConfig</em></a>) â€“ The axis of rotation in the parent bodyâ€™s local frame, can be a <a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointDofConfig</span></code></a> object whose settings will be used instead of the other arguments.</p></li>
<li><p><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The target angle (in radians) or target velocity of the joint.</p></li>
<li><p><strong>target_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The stiffness of the joint target.</p></li>
<li><p><strong>target_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The damping of the joint target.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> | </em><em>None</em>) â€“ The control mode of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_control_mode</span></code> is used.</p></li>
<li><p><strong>limit_lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The lower limit of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_lower</span></code> is used.</p></li>
<li><p><strong>limit_upper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The upper limit of the joint. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_upper</span></code> is used.</p></li>
<li><p><strong>limit_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The stiffness of the joint limit. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_ke</span></code> is used.</p></li>
<li><p><strong>limit_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The damping of the joint limit. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_limit_kd</span></code> is used.</p></li>
<li><p><strong>armature</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ Artificial inertia added around the joint axis. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_armature</span></code> is used.</p></li>
<li><p><strong>effort_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ Maximum effort (force) the joint axis can exert. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.effort_limit</span></code> is used.</p></li>
<li><p><strong>velocity_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ Maximum velocity the joint axis can achieve. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.velocity_limit</span></code> is used.</p></li>
<li><p><strong>friction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ Friction coefficient for the joint axis. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_cfg.friction</span></code> is used.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether the joint is enabled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_ball">
<span class="sig-name descname"><span class="pre">add_joint_ball</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_ball" title="Link to this definition">#</a></dt>
<dd><p>Adds a ball (spherical) joint to the model. Its position is defined by a 4D quaternion (xyzw) and its velocity is a 3D vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the parent bodyâ€™s local frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the child bodyâ€™s local frame.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether the joint is enabled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_fixed">
<span class="sig-name descname"><span class="pre">add_joint_fixed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_fixed" title="Link to this definition">#</a></dt>
<dd><p>Adds a fixed (static) joint to the model. It has no degrees of freedom.
See <a class="reference internal" href="#newton.ModelBuilder.collapse_fixed_joints" title="newton.ModelBuilder.collapse_fixed_joints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collapse_fixed_joints()</span></code></a> for a helper function that removes these fixed joints and merges the connecting bodies to simplify the model and improve stability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the parent bodyâ€™s local frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the child bodyâ€™s local frame.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether the joint is enabled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_free">
<span class="sig-name descname"><span class="pre">add_joint_free</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_free" title="Link to this definition">#</a></dt>
<dd><p>Adds a free joint to the model.
It has 7 positional degrees of freedom (first 3 linear and then 4 angular dimensions for the orientation quaternion in <cite>xyzw</cite> notation) and 6 velocity degrees of freedom (see <a class="reference internal" href="../../conventions.html#twist-conventions"><span class="std std-ref">Twist conventions in Newton</span></a>).
The positional dofs are initialized by the child bodyâ€™s transform (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">body_q</span></code> and the <code class="docutils literal notranslate"><span class="pre">xform</span></code> argument to <a class="reference internal" href="#newton.ModelBuilder.add_body" title="newton.ModelBuilder.add_body"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_body()</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the parent bodyâ€™s local frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the child bodyâ€™s local frame.</p></li>
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body (-1 by default to use the world frame, e.g. to make the child body and its children a floating-base mechanism).</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ The key of the joint.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether the joint is enabled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_distance">
<span class="sig-name descname"><span class="pre">add_joint_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_distance" title="Link to this definition">#</a></dt>
<dd><p>Adds a distance joint to the model. The distance joint constraints the distance between the joint anchor points on the two bodies (see <a class="reference internal" href="../../concepts/articulations.html#fk-ik"><span class="std std-ref">Forward / Inverse Kinematics</span></a>) it connects to the interval [<cite>min_distance</cite>, <cite>max_distance</cite>].
It has 7 positional degrees of freedom (first 3 linear and then 4 angular dimensions for the orientation quaternion in <cite>xyzw</cite> notation) and 6 velocity degrees of freedom (first 3 angular and then 3 linear velocity dimensions).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the child body.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the parent bodyâ€™s local frame.</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the child bodyâ€™s local frame.</p></li>
<li><p><strong>min_distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The minimum distance between the bodies (no limit if negative).</p></li>
<li><p><strong>max_distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The maximum distance between the bodies (no limit if negative).</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether the joint is enabled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Distance joints are currently only supported in the <a class="reference internal" href="../solvers/newton.solvers.XPBDSolver.html#newton.solvers.XPBDSolver" title="newton.solvers.XPBDSolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">newton.solvers.XPBDSolver</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_joint_d6">
<span class="sig-name descname"><span class="pre">add_joint_d6</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linear_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angular_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision_filter_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_joint_d6" title="Link to this definition">#</a></dt>
<dd><p>Adds a generic joint with custom linear and angular axes. The number of axes determines the number of degrees of freedom of the joint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body.</p></li>
<li><p><strong>child</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the child body.</p></li>
<li><p><strong>linear_axes</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><em>JointDofConfig</em></a><em>] </em><em>| </em><em>None</em>) â€“ A list of linear axes.</p></li>
<li><p><strong>angular_axes</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="#newton.ModelBuilder.JointDofConfig" title="newton.ModelBuilder.JointDofConfig"><em>JointDofConfig</em></a><em>] </em><em>| </em><em>None</em>) â€“ A list of angular axes.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ The key of the joint.</p></li>
<li><p><strong>parent_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the parent bodyâ€™s local frame</p></li>
<li><p><strong>child_xform</strong> (<em>Transform</em>) â€“ The transform of the joint in the child bodyâ€™s local frame</p></li>
<li><p><strong>armature</strong> â€“ Artificial inertia added around the joint axes. If None, the default value from <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_joint_armature</span></code> is used.</p></li>
<li><p><strong>collision_filter_parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to filter collisions between shapes of the parent and child bodies.</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether the joint is enabled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the added joint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.plot_articulation">
<span class="sig-name descname"><span class="pre">plot_articulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_body_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_joint_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_joint_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_shapes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_shape_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.plot_articulation" title="Link to this definition">#</a></dt>
<dd><p>Visualizes the modelâ€™s articulation graph using matplotlib and networkx.
Uses the spring layout algorithm from networkx to arrange the nodes.
Bodies are shown as orange squares, shapes are shown as blue circles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_body_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to show the body keys or indices</p></li>
<li><p><strong>show_joint_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to show the joint keys or indices</p></li>
<li><p><strong>show_joint_types</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to show the joint types</p></li>
<li><p><strong>plot_shapes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to render the shapes connected to the rigid bodies</p></li>
<li><p><strong>show_shape_types</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to show the shape geometry types</p></li>
<li><p><strong>show_legend</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to show a legend</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.collapse_fixed_joints">
<span class="sig-name descname"><span class="pre">collapse_fixed_joints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">wp.config.verbose</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.collapse_fixed_joints" title="Link to this definition">#</a></dt>
<dd><p>Removes fixed joints from the model and merges the bodies they connect. This is useful for simplifying the model for faster and more stable simulation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_muscle">
<span class="sig-name descname"><span class="pre">add_muscle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bodies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pen</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_muscle" title="Link to this definition">#</a></dt>
<dd><p>Adds a muscle-tendon activation unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bodies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>]</em>) â€“ A list of body indices for each waypoint</p></li>
<li><p><strong>positions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em><em>]</em>) â€“ A list of positions of each waypoint in the bodyâ€™s local frame</p></li>
<li><p><strong>f0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ Force scaling</p></li>
<li><p><strong>lm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ Muscle length</p></li>
<li><p><strong>lt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ Tendon length</p></li>
<li><p><strong>lmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ Maximally efficient muscle length</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the muscle in the model</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The simulation support for muscles is in progress and not yet fully functional.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape">
<span class="sig-name descname"><span class="pre">add_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_static</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape" title="Link to this definition">#</a></dt>
<dd><p>Adds a generic collision shape to the model.</p>
<p>This is the base method for adding shapes; prefer using specific helpers like <a class="reference internal" href="#newton.ModelBuilder.add_shape_sphere" title="newton.ModelBuilder.add_shape_sphere"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_shape_sphere()</span></code></a> where possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body (e.g., static environment geometry).</p></li>
<li><p><strong>type</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The geometry type of the shape (e.g., <cite>GEO_BOX</cite>, <cite>GEO_SPHERE</cite>).</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) â€“ The transform of the shape in the parent bodyâ€™s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>scale</strong> (<em>Vec3</em><em> | </em><em>None</em>) â€“ The scale of the geometry. The interpretation depends on the shape type. Defaults to <cite>(1.0, 1.0, 1.0)</cite> if <cite>None</cite>.</p></li>
<li><p><strong>src</strong> (<a class="reference internal" href="newton.SDF.html#newton.SDF" title="newton.SDF"><em>SDF</em></a><em> | </em><a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><em>Mesh</em></a><em> | </em><em>Any</em><em> | </em><em>None</em>) â€“ The source geometry data, e.g., a <a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> object for <cite>GEO_MESH</cite> or an <a class="reference internal" href="newton.SDF.html#newton.SDF" title="newton.SDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">SDF</span></code></a> object for <cite>GEO_SDF</cite>. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>is_static</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ If <cite>True</cite>, the shape will have zero mass, and its density property in <cite>cfg</cite> will be effectively ignored for mass calculation. Typically used for fixed, non-movable collision geometry. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated (e.g., â€œshape_Nâ€). Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_plane">
<span class="sig-name descname"><span class="pre">add_shape_plane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plane</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0,</span> <span class="pre">1.0,</span> <span class="pre">0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_plane" title="Link to this definition">#</a></dt>
<dd><p>Adds a plane collision shape to the model.</p>
<p>If <cite>xform</cite> is provided, it directly defines the planeâ€™s position and orientation. The planeâ€™s collision normal
is assumed to be along the local Y-axis of this <cite>xform</cite>.
If <cite>xform</cite> is <cite>None</cite>, it will be derived from the <cite>plane</cite> equation <cite>a*x + b*y + c*z + d = 0</cite>.
Plane shapes added via this method are always static (massless).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plane</strong> (<em>Vec4</em><em> | </em><em>None</em>) â€“ The plane equation <cite>(a, b, c, d)</cite>. If <cite>xform</cite> is <cite>None</cite>, this defines the plane.
The normal is <cite>(a,b,c)</cite> and <cite>d</cite> is the offset. Defaults to <cite>(0.0, 1.0, 0.0, 0.0)</cite> (an XZ ground plane at Y=0) if <cite>xform</cite> is also <cite>None</cite>.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) â€“ The transform of the plane in the world or parent bodyâ€™s frame. If <cite>None</cite>, transform is derived from <cite>plane</cite>. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The visual/collision extent of the plane along its local X-axis. If <cite>0.0</cite>, considered infinite for collision. Defaults to <cite>10.0</cite>.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The visual/collision extent of the plane along its local Z-axis. If <cite>0.0</cite>, considered infinite for collision. Defaults to <cite>10.0</cite>.</p></li>
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body this shape belongs to. Use -1 for world-static planes. Defaults to <cite>-1</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_ground_plane">
<span class="sig-name descname"><span class="pre">add_ground_plane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_ground_plane" title="Link to this definition">#</a></dt>
<dd><p>Adds a ground plane collision shape to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_sphere">
<span class="sig-name descname"><span class="pre">add_shape_sphere</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_sphere" title="Link to this definition">#</a></dt>
<dd><p>Adds a sphere collision shape to a body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) â€“ The transform of the sphere in the parent bodyâ€™s local frame. The sphere is centered at this transformâ€™s position. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The radius of the sphere. Defaults to <cite>1.0</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_box">
<span class="sig-name descname"><span class="pre">add_shape_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_box" title="Link to this definition">#</a></dt>
<dd><p>Adds a box collision shape to a body.</p>
<p>The box is centered at its local origin as defined by <cite>xform</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) â€“ The transform of the box in the parent bodyâ€™s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>hx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The half-extent of the box along its local X-axis. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>hy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The half-extent of the box along its local Y-axis. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>hz</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The half-extent of the box along its local Z-axis. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_capsule">
<span class="sig-name descname"><span class="pre">add_shape_capsule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_capsule" title="Link to this definition">#</a></dt>
<dd><p>Adds a capsule collision shape to a body.</p>
<p>The capsule is centered at its local origin as defined by <cite>xform</cite>. Its length extends along the specified <cite>up_axis</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) â€“ The transform of the capsule in the parent bodyâ€™s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The radius of the capsuleâ€™s hemispherical ends and its cylindrical segment. Defaults to <cite>1.0</cite>.</p></li>
<li><p><strong>half_height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The half-length of the capsuleâ€™s central cylindrical segment (excluding the hemispherical ends). Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>up_axis</strong> (<em>AxisType</em>) â€“ The local axis of the capsule along which its length is aligned (typically <cite>Axis.X</cite>, <cite>Axis.Y</cite>, or <cite>Axis.Z</cite>). Defaults to <cite>Axis.Y</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_cylinder">
<span class="sig-name descname"><span class="pre">add_shape_cylinder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_cylinder" title="Link to this definition">#</a></dt>
<dd><p>Adds a cylinder collision shape to a body.</p>
<p>The cylinder is centered at its local origin as defined by <cite>xform</cite>. Its length extends along the specified <cite>up_axis</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) â€“ The transform of the cylinder in the parent bodyâ€™s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The radius of the cylinder. Defaults to <cite>1.0</cite>.</p></li>
<li><p><strong>half_height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The half-length of the cylinder along the <cite>up_axis</cite>. Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>up_axis</strong> (<em>AxisType</em>) â€“ The local axis of the cylinder along which its length is aligned (e.g., <cite>Axis.X</cite>, <cite>Axis.Y</cite>, <cite>Axis.Z</cite>). Defaults to <cite>Axis.Y</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_cone">
<span class="sig-name descname"><span class="pre">add_shape_cone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Axis.Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_cone" title="Link to this definition">#</a></dt>
<dd><p>Adds a cone collision shape to a body.</p>
<p>The coneâ€™s base is centered at its local origin as defined by <cite>xform</cite> and it extends along the specified <cite>up_axis</cite> towards its apex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) â€“ The transform of the cone in the parent bodyâ€™s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The radius of the coneâ€™s base. Defaults to <cite>1.0</cite>.</p></li>
<li><p><strong>half_height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The half-height of the cone (distance from the center of the base to the apex along the <cite>up_axis</cite>). Defaults to <cite>0.5</cite>.</p></li>
<li><p><strong>up_axis</strong> (<em>AxisType</em>) â€“ The local axis of the cone along which its height is aligned, pointing from base to apex (e.g., <cite>Axis.X</cite>, <cite>Axis.Y</cite>, <cite>Axis.Z</cite>). Defaults to <cite>Axis.Y</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_mesh">
<span class="sig-name descname"><span class="pre">add_shape_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_mesh" title="Link to this definition">#</a></dt>
<dd><p>Adds a triangle mesh collision shape to a body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) â€“ The transform of the mesh in the parent bodyâ€™s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>mesh</strong> (<a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><em>Mesh</em></a><em> | </em><em>None</em>) â€“ The <a class="reference internal" href="newton.Mesh.html#newton.Mesh" title="newton.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> object containing the vertex and triangle data. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>scale</strong> (<em>Vec3</em><em> | </em><em>None</em>) â€“ The scale of the mesh. Defaults to <cite>None</cite>, in which case the scale is <cite>(1.0, 1.0, 1.0)</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_shape_sdf">
<span class="sig-name descname"><span class="pre">add_shape_sdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_shape_sdf" title="Link to this definition">#</a></dt>
<dd><p>Adds a signed distance field (SDF) collision shape to a body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the parent body this shape belongs to. Use -1 for shapes not attached to any specific body.</p></li>
<li><p><strong>xform</strong> (<em>Transform</em><em> | </em><em>None</em>) â€“ The transform of the SDF in the parent bodyâ€™s local frame. If <cite>None</cite>, the identity transform <cite>wp.transform()</cite> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>sdf</strong> (<a class="reference internal" href="newton.SDF.html#newton.SDF" title="newton.SDF"><em>SDF</em></a><em> | </em><em>None</em>) â€“ The <a class="reference internal" href="newton.SDF.html#newton.SDF" title="newton.SDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">SDF</span></code></a> object representing the signed distance field. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>cfg</strong> (<a class="reference internal" href="#newton.ModelBuilder.ShapeConfig" title="newton.ModelBuilder.ShapeConfig"><em>ShapeConfig</em></a><em> | </em><em>None</em>) â€“ The configuration for the shapeâ€™s physical and collision properties. If <cite>None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_shape_cfg</span></code> is used. Defaults to <cite>None</cite>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ An optional unique key for identifying the shape. If <cite>None</cite>, a default key is automatically generated. Defaults to <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index of the newly added shape.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_particle">
<span class="sig-name descname"><span class="pre">add_particle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">PARTICLE_FLAG_ACTIVE</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_particle" title="Link to this definition">#</a></dt>
<dd><p>Adds a single particle to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The initial position of the particle.</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The initial velocity of the particle.</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The mass of the particle.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The radius of the particle used in collision handling. If None, the radius is set to the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_particle_radius</span></code>).</p></li>
<li><p><strong>flags</strong> (<em>uint32</em>) â€“ The flags that control the dynamical behavior of the particle, see PARTICLE_FLAG_* constants.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Set the mass equal to zero to create a â€˜kinematicâ€™ particle that is not subject to dynamics.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The index of the particle in the system.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_particles">
<span class="sig-name descname"><span class="pre">add_particles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_particles" title="Link to this definition">#</a></dt>
<dd><p>Adds a group particles to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em><em>]</em>) â€“ The initial positions of the particle.</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em><em>]</em>) â€“ The initial velocities of the particle.</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>]</em>) â€“ The mass of the particles.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) â€“ The radius of the particles used in collision handling. If None, the radius is set to the default value (<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_particle_radius</span></code>).</p></li>
<li><p><strong>flags</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><em>uint32</em><em>] </em><em>| </em><em>None</em>) â€“ The flags that control the dynamical behavior of the particles, see PARTICLE_FLAG_* constants.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Set the mass equal to zero to create a â€˜kinematicâ€™ particle that is not subject to dynamics.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_spring">
<span class="sig-name descname"><span class="pre">add_spring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ke</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_spring" title="Link to this definition">#</a></dt>
<dd><p>Adds a spring between two particles in the system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the first particle</p></li>
<li><p><strong>j</strong> â€“ The index of the second particle</p></li>
<li><p><strong>ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The elastic stiffness of the spring</p></li>
<li><p><strong>kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The damping stiffness of the spring</p></li>
<li><p><strong>control</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The actuation level of the spring</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The spring is created with a rest-length based on the distance
between the particles in their initial configuration.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_triangle">
<span class="sig-name descname"><span class="pre">add_triangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_triangle" title="Link to this definition">#</a></dt>
<dd><p>Adds a triangular FEM element between three particles in the system.</p>
<p>Triangles are modeled as viscoelastic elements with elastic stiffness and damping
parameters specified on the model. See model.tri_ke, model.tri_kd.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the first particle</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the second particle</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the third particle</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The area of the triangle</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The triangle is created with a rest-length based on the distance
between the particles in their initial configuration.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_triangles">
<span class="sig-name descname"><span class="pre">add_triangles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_triangles" title="Link to this definition">#</a></dt>
<dd><p>Adds triangular FEM elements between groups of three particles in the system.</p>
<p>Triangles are modeled as viscoelastic elements with elastic stiffness and damping
Parameters specified on the model. See model.tri_ke, model.tri_kd.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>]</em>) â€“ The indices of the first particle</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>]</em>) â€“ The indices of the second particle</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>]</em>) â€“ The indices of the third particle</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The areas of the triangles</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a>]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A triangle is created with a rest-length based on the distance
between the particles in their initial configuration.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_tetrahedron">
<span class="sig-name descname"><span class="pre">add_tetrahedron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0e3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_lambda</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0e3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_damp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_tetrahedron" title="Link to this definition">#</a></dt>
<dd><p>Adds a tetrahedral FEM element between four particles in the system.</p>
<p>Tetrahedra are modeled as viscoelastic elements with a NeoHookean energy
density based on [Smith et al. 2018].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the first particle</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the second particle</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the third particle</p></li>
<li><p><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the fourth particle</p></li>
<li><p><strong>k_mu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The first elastic Lame parameter</p></li>
<li><p><strong>k_lambda</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The second elastic Lame parameter</p></li>
<li><p><strong>k_damp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The elementâ€™s damping stiffness</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The volume of the tetrahedron</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The tetrahedron is created with a rest-pose based on the particleâ€™s initial configuration</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_edge">
<span class="sig-name descname"><span class="pre">add_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_edge" title="Link to this definition">#</a></dt>
<dd><p>Adds a bending edge element between two adjacent triangles in the cloth mesh, defined by four vertices.</p>
<p>The bending energy model follows the discrete shell formulation from [Grinspun et al. 2003].
The bending stiffness is controlled by the <cite>edge_ke</cite> parameter, and the bending damping by the <cite>edge_kd</cite> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the first particle, i.e., opposite vertex 0</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the second particle, i.e., opposite vertex 1</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the third particle, i.e., vertex 0</p></li>
<li><p><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The index of the fourth particle, i.e., vertex 1</p></li>
<li><p><strong>rest</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The rest angle across the edge in radians, if not specified it will be computed</p></li>
<li><p><strong>edge_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The bending stiffness coefficient</p></li>
<li><p><strong>edge_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The bending damping coefficient</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The edge lies between the particles indexed by â€˜kâ€™ and â€˜lâ€™ parameters with the opposing
vertices indexed by â€˜iâ€™ and â€˜jâ€™. This defines two connected triangles with counterclockwise
winding: (i, k, l), (j, l, k).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_edges">
<span class="sig-name descname"><span class="pre">add_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_edges" title="Link to this definition">#</a></dt>
<dd><p>Adds bending edge elements between two adjacent triangles in the cloth mesh, defined by four vertices.</p>
<p>The bending energy model follows the discrete shell formulation from [Grinspun et al. 2003].
The bending stiffness is controlled by the <cite>edge_ke</cite> parameter, and the bending damping by the <cite>edge_kd</cite> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> â€“ The index of the first particle, i.e., opposite vertex 0</p></li>
<li><p><strong>j</strong> â€“ The index of the second particle, i.e., opposite vertex 1</p></li>
<li><p><strong>k</strong> â€“ The index of the third particle, i.e., vertex 0</p></li>
<li><p><strong>l</strong> â€“ The index of the fourth particle, i.e., vertex 1</p></li>
<li><p><strong>rest</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) â€“ The rest angles across the edges in radians, if not specified they will be computed</p></li>
<li><p><strong>edge_ke</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) â€“ The bending stiffness coefficient</p></li>
<li><p><strong>edge_kd</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) â€“ The bending damping coefficient</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The edge lies between the particles indexed by â€˜kâ€™ and â€˜lâ€™ parameters with the opposing
vertices indexed by â€˜iâ€™ and â€˜jâ€™. This defines two connected triangles with counterclockwise
winding: (i, k, l), (j, l, k).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_cloth_grid">
<span class="sig-name descname"><span class="pre">add_cloth_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse_winding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_bottom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_springs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spring_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spring_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_cloth_grid" title="Link to this definition">#</a></dt>
<dd><p>Helper to create a regular planar cloth grid</p>
<p>Creates a rectangular grid of particles with FEM triangles and bending elements
automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The position of the cloth in world space</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>quatf</em>) â€“ The orientation of the cloth in world space</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The velocity of the cloth in world space</p></li>
<li><p><strong>dim_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The number of rectangular cells along the x-axis</p></li>
<li><p><strong>dim_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The number of rectangular cells along the y-axis</p></li>
<li><p><strong>cell_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The width of each cell in the x-direction</p></li>
<li><p><strong>cell_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The width of each cell in the y-direction</p></li>
<li><p><strong>mass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The mass of each particle</p></li>
<li><p><strong>reverse_winding</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Flip the winding of the mesh</p></li>
<li><p><strong>fix_left</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Make the left-most edge of particles kinematic (fixed in place)</p></li>
<li><p><strong>fix_right</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Make the right-most edge of particles kinematic</p></li>
<li><p><strong>fix_top</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Make the top-most edge of particles kinematic</p></li>
<li><p><strong>fix_bottom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Make the bottom-most edge of particles kinematic</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_cloth_mesh">
<span class="sig-name descname"><span class="pre">add_cloth_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">face_callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_springs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spring_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spring_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_cloth_mesh" title="Link to this definition">#</a></dt>
<dd><p>Helper to create a cloth model from a regular triangle mesh</p>
<p>Creates one FEM triangle element and one bending element for every face
and edge in the input triangle mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The position of the cloth in world space</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>quatf</em>) â€“ The orientation of the cloth in world space</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The velocity of the cloth in world space</p></li>
<li><p><strong>vertices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em><em>]</em>) â€“ A list of vertex positions</p></li>
<li><p><strong>indices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>]</em>) â€“ A list of triangle indices, 3 entries per-face</p></li>
<li><p><strong>density</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The density per-area of the mesh</p></li>
<li><p><strong>edge_callback</strong> â€“ A user callback when an edge is created</p></li>
<li><p><strong>face_callback</strong> â€“ A user callback when a face is created</p></li>
<li><p><strong>particle_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><em>None</em>) â€“ The particle_radius which controls particle based collisions.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The mesh should be two manifold.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_soft_grid">
<span class="sig-name descname"><span class="pre">add_soft_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_damp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_bottom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_soft_grid" title="Link to this definition">#</a></dt>
<dd><p>Helper to create a rectangular tetrahedral FEM grid</p>
<p>Creates a regular grid of FEM tetrahedra and surface triangles. Useful for example
to create beams and sheets. Each hexahedral cell is decomposed into 5
tetrahedral elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The position of the solid in world space</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>quatf</em>) â€“ The orientation of the solid in world space</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The velocity of the solid in world space</p></li>
<li><p><strong>dim_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The number of rectangular cells along the x-axis</p></li>
<li><p><strong>dim_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The number of rectangular cells along the y-axis</p></li>
<li><p><strong>dim_z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) â€“ The number of rectangular cells along the z-axis</p></li>
<li><p><strong>cell_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The width of each cell in the x-direction</p></li>
<li><p><strong>cell_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The width of each cell in the y-direction</p></li>
<li><p><strong>cell_z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The width of each cell in the z-direction</p></li>
<li><p><strong>density</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The density of each particle</p></li>
<li><p><strong>k_mu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The first elastic Lame parameter</p></li>
<li><p><strong>k_lambda</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The second elastic Lame parameter</p></li>
<li><p><strong>k_damp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The damping stiffness</p></li>
<li><p><strong>fix_left</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Make the left-most edge of particles kinematic (fixed in place)</p></li>
<li><p><strong>fix_right</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Make the right-most edge of particles kinematic</p></li>
<li><p><strong>fix_top</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Make the top-most edge of particles kinematic</p></li>
<li><p><strong>fix_bottom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Make the bottom-most edge of particles kinematic</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.add_soft_mesh">
<span class="sig-name descname"><span class="pre">add_soft_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_damp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_ka</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_drag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tri_lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.add_soft_mesh" title="Link to this definition">#</a></dt>
<dd><p>Helper to create a tetrahedral model from an input tetrahedral mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The position of the solid in world space</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>quatf</em>) â€“ The orientation of the solid in world space</p></li>
<li><p><strong>vel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em>) â€“ The velocity of the solid in world space</p></li>
<li><p><strong>vertices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>vec3f</em><em>]</em>) â€“ A list of vertex positions, array of 3D points</p></li>
<li><p><strong>indices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>]</em>) â€“ A list of tetrahedron indices, 4 entries per-element, flattened array</p></li>
<li><p><strong>density</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The density per-area of the mesh</p></li>
<li><p><strong>k_mu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The first elastic Lame parameter</p></li>
<li><p><strong>k_lambda</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The second elastic Lame parameter</p></li>
<li><p><strong>k_damp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) â€“ The damping stiffness</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.set_coloring">
<span class="sig-name descname"><span class="pre">set_coloring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle_color_groups</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.set_coloring" title="Link to this definition">#</a></dt>
<dd><p>Sets coloring information with user-provided coloring.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>particle_color_groups</strong> â€“ A list of list or <cite>np.array</cite> with <cite>dtype`=`int</cite>. The length of the list is the number of colors
and each list or <cite>np.array</cite> contains the indices of vertices with this color.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.color">
<span class="sig-name descname"><span class="pre">color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_bending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_max_min_color_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coloring_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">ColoringAlgorithm.MCS</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.color" title="Link to this definition">#</a></dt>
<dd><p>Runs coloring algorithm to generate coloring information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_bending_energy</strong> â€“ Whether to consider bending energy for trimeshes in the coloring process. If set to <cite>True</cite>, the generated
graph will contain all the edges connecting o1 and o2; otherwise, the graph will be equivalent to the trimesh.</p></li>
<li><p><strong>balance_colors</strong> â€“ Whether to apply the color balancing algorithm to balance the size of each color</p></li>
<li><p><strong>target_max_min_color_ratio</strong> â€“ the color balancing algorithm will stop when the ratio between the largest color and
the smallest color reaches this value</p></li>
<li><p><strong>algorithm</strong> â€“ Value should be an enum type of ColoringAlgorithm, otherwise it will raise an error. ColoringAlgorithm.mcs means using the MCS coloring algorithm,
while ColoringAlgorithm.ordered_greedy means using the degree-ordered greedy algorithm. The MCS algorithm typically generates 30% to 50% fewer colors
compared to the ordered greedy algorithm, while maintaining the same linear complexity. Although MCS has a constant overhead that makes it about twice
as slow as the greedy algorithm, it produces significantly better coloring results. We recommend using MCS, especially if coloring is only part of the
preprocessing.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>References to the coloring algorithm:</p>
<p>MCS: Pereira, F. M. Q., &amp; Palsberg, J. (2005, November). Register allocation via coloring of chordal graphs. In Asian Symposium on Programming Languages and Systems (pp. 315-329). Berlin, Heidelberg: Springer Berlin Heidelberg.</p>
<p>Ordered Greedy: Ton-That, Q. M., Kry, P. G., &amp; Andrews, S. (2023). Parallel block Neo-Hookean XPBD using graph clustering. Computers &amp; Graphics, 110, 1-10.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="newton.ModelBuilder.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requires_grad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#newton.ModelBuilder.finalize" title="Link to this definition">#</a></dt>
<dd><p>Convert this builder object to a concrete model for simulation.</p>
<p>After building simulation elements this method should be called to transfer
all data to device memory ready for simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<a class="reference external" href="https://nvidia.github.io/warp/modules/devices.html#warp.context.Device" title="(in Warp v1.7.2)"><em>Device</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) â€“ The simulation device to use, e.g.: â€˜cpuâ€™, â€˜cudaâ€™</p></li>
<li><p><strong>requires_grad</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) â€“ Whether to enable gradient computation for the model</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A model object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="newton.Model.html#newton.Model" title="newton.sim.model.Model"><em>Model</em></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder"><code class="docutils literal notranslate"><span class="pre">ModelBuilder</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.density"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.density</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.ke"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.ke</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.kd"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.kd</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.kf"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.kf</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.ka"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.ka</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.mu"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.mu</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.restitution"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.restitution</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.thickness"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.thickness</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.is_solid"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.is_solid</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.collision_group"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.collision_group</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.collision_filter_parent"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.collision_filter_parent</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.has_shape_collision"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.has_shape_collision</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.has_particle_collision"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.has_particle_collision</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.is_visible"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.is_visible</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.flags"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.flags</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.ShapeConfig.__init__"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.ShapeConfig.__init__()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.__init__"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.__init__()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.axis"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.axis</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.limit_lower"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.limit_lower</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.limit_upper"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.limit_upper</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.limit_ke"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.limit_ke</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.limit_kd"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.limit_kd</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.target_ke"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.target_ke</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.target_kd"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.target_kd</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.mode"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.mode</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.armature"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.armature</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.effort_limit"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.effort_limit</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.velocity_limit"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.velocity_limit</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.friction"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.friction</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.target"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.target</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.JointDofConfig.create_unlimited"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.JointDofConfig.create_unlimited()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.__init__"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.up_vector"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.up_vector</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_builder"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_builder()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_body"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_body()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_revolute"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_revolute()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_prismatic"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_prismatic()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_ball"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_ball()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_fixed"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_fixed()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_free"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_free()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_distance"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_distance()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_joint_d6"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_joint_d6()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.plot_articulation"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.plot_articulation()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.collapse_fixed_joints"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.collapse_fixed_joints()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_muscle"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_muscle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_plane"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_plane()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_ground_plane"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_ground_plane()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_sphere"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_sphere()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_box"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_box()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_capsule"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_capsule()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_cylinder"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_cylinder()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_cone"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_cone()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_mesh"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_mesh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_shape_sdf"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_shape_sdf()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_particle"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_particle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_particles"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_particles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_spring"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_spring()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_triangle"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_triangle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_triangles"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_triangles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_tetrahedron"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_tetrahedron()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_edge"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_edge()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_edges"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_cloth_grid"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_cloth_grid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_cloth_mesh"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_cloth_mesh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_soft_grid"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_soft_grid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.add_soft_mesh"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.add_soft_mesh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.set_coloring"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.set_coloring()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.color"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.color()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#newton.ModelBuilder.finalize"><code class="docutils literal notranslate"><span class="pre">ModelBuilder.finalize()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      Â© Copyright 2025, The Newton Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>